<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MAKA Dashboard</title>

<link rel="stylesheet" href="assets/app.css">

<style>
.app{
 max-width:420px;
 margin:auto;
 padding-bottom:90px;
}

/* HEADER */
.header{
 padding:22px;
}
.user-name{
 font-size:22px;
 font-weight:800;
}
.user-plate{
 font-size:13px;
 color:var(--muted);
 margin-top:4px;
}

/* HERO */
.hero{
 margin:0 22px;
 background:linear-gradient(135deg,#0d1538,#070b1f);
 border-radius:22px;
 padding:20px;
 border:1px solid rgba(255,255,255,.08);
 box-shadow:0 24px 50px rgba(0,0,0,.6);
}

.hero-title{
 font-size:12px;
 color:var(--muted);
 letter-spacing:1px;
}

.hero-amount{
 font-size:30px;
 font-weight:900;
 color:var(--gold);
 margin-top:8px;
}

.hero-sub{
 font-size:12px;
 color:var(--muted);
 margin-top:4px;
}

/* PROGRESS */
.progress-wrap{
 margin-top:16px;
}
.progress-bar{
 height:10px;
 background:#0b0f24;
 border-radius:10px;
 overflow:hidden;
}
.progress-fill{
 height:100%;
 width:0%;
 background:linear-gradient(90deg,var(--primary),var(--accent));
 box-shadow:0 0 12px rgba(91,124,255,.8);
}
.progress-text{
 font-size:11px;
 color:var(--muted);
 margin-top:6px;
 text-align:right;
}

/* ICON GRID */
.section{
 padding:22px;
}
.grid{
 display:grid;
 grid-template-columns:repeat(3,1fr);
 gap:14px;
}
.grid-item{
 background:#070b1f;
 border-radius:18px;
 padding:22px 10px;
 text-align:center;
 border:1px solid rgba(255,255,255,.07);
 transition:.25s;
}
.grid-item:hover{
 transform:translateY(-4px);
 box-shadow:0 18px 40px rgba(0,0,0,.7);
}
.grid-item span{
 font-size:26px;
 display:block;
}
.grid-item p{
 margin-top:6px;
 font-size:12px;
 color:var(--muted);
 font-weight:700;
}

/* BOTTOM NAV */
.nav{
 position:fixed;
 bottom:0;
 left:0;
 right:0;
 height:72px;
 background:linear-gradient(to top,#050813,#0a1030);
 display:flex;
 align-items:center;
 justify-content:space-around;
 border-top:1px solid rgba(255,255,255,.08);
}
.nav a{
 flex:1;
 text-align:center;
 text-decoration:none;
 color:#777;
 font-size:11px;
}
.nav a span{
 display:block;
 font-size:22px;
}
.nav .active{
 color:var(--primary);
}
</style>
</head>

<body>
<div class="app">

<!-- HEADER -->
<div class="header">
 <div class="user-name" id="userName">-</div>
 <div class="user-plate" id="userPlate">-</div>
</div>

<!-- HERO -->
<div class="hero">
 <div class="hero-title">TOTAL TUNGGAKAN</div>
 <div class="hero-amount" id="tunggakan">Rp 0</div>
 <div class="hero-sub">Sejak mulai sewa</div>

 <div class="progress-wrap">
  <div class="progress-bar">
   <div class="progress-fill" id="progressFill"></div>
  </div>
  <div class="progress-text" id="progressText">0 / 1009 hari</div>
 </div>
</div>

<!-- ICON GRID -->
<div class="section">
 <div class="grid">
  <a href="calendar.html" class="grid-item"><span>üìÖ</span><p>Kalender</p></a>
  <a href="history.html" class="grid-item"><span>üóíÔ∏è</span><p>Riwayat</p></a>
  <a href="gratisan.html" class="grid-item"><span>üéÅ</span><p>Gratisan</p></a>
  <a href="maka_plus.html" class="grid-item"><span>‚≠ê</span><p>MAKA+</p></a>
  <a href="info_mlu.html" class="grid-item"><span>üì∞</span><p>Info MLU</p></a>
  <a href="settings.html" class="grid-item"><span>‚öôÔ∏è</span><p>Pengaturan</p></a>
 </div>
</div>

</div>

<!-- NAV -->
<div class="nav">
 <a href="lokasi_fc.html"><span>‚ö°</span>FC</a>
 <a class="active" href="dashboard.html"><span>üè†</span>Home</a>
 <a href="daftar_antrian.html"><span>üé´</span>Antrian</a>
</div>

<script>
const user=JSON.parse(localStorage.getItem('maka_user'))
if(!user){location='index.html'}

document.getElementById('userName').textContent='Halo, '+user.name
document.getElementById('userPlate').textContent=user.plate

// ==== HITUNG HARI ====
const start=new Date(user.take_date)
const today=new Date()
start.setHours(0,0,0,0)
today.setHours(0,0,0,0)

const days=Math.max(0,Math.floor((today-start)/86400000))
const totalHari=1009

// ==== TUNGGAKAN (SIMPLE MODE) ====
let daily=70000
if(user.maka_plus) daily=80000

const total=days*daily

document.getElementById('tunggakan').textContent=
 'Rp '+total.toLocaleString('id-ID')

// ==== PROGRESS ====
const pct=Math.min(100,(days/totalHari)*100)
document.getElementById('progressFill').style.width=pct+'%'
document.getElementById('progressText').textContent=
 `${days} / ${totalHari} hari`
</script>

</body>
</html>
