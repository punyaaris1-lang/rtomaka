<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kalender MAKA</title>

<style>
body{
  margin:0;
  background:#05080d;
  color:#eaf1ff;
  font-family:system-ui;
}

.header{
  padding:16px;
  border-bottom:1px solid rgba(255,255,255,.1);
}

.header h1{
  margin:0;
  font-size:18px;
}

.calendar{
  display:grid;
  grid-template-columns:repeat(7,1fr);
  gap:8px;
  padding:16px;
}

.day{
  height:48px;
  border-radius:10px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:13px;
  background:#121a2c;
}

.day.pay{
  background:#1b2f24;
  color:#6fffb1;
}

.day.off{
  background:#2b1c1c;
  color:#ff8f8f;
}

.popup{
  position:fixed;
  bottom:0;
  left:0;right:0;
  background:#0b1220;
  border-top-left-radius:18px;
  border-top-right-radius:18px;
  padding:20px;
  display:none;
}

.popup h3{
  margin:0 0 8px;
}

.popup button{
  width:100%;
  margin-top:12px;
  padding:12px;
  border:none;
  border-radius:12px;
  background:#00eaff;
  font-weight:bold;
}
</style>
</head>

<body>

<div class="header">
  <h1>ðŸ“… Kalender Pembayaran</h1>
</div>

<div class="calendar" id="calendar"></div>

<div class="popup" id="popup">
  <h3 id="popup-date"></h3>
  <p id="popup-status"></p>
  <button onclick="closePopup()">Tutup</button>
</div>

<script>
/* ========= SETTING DASAR ========= */
// USER AMBIL MOTOR
const USER_START_DATE = '2025-09-18'; // contoh

/* ========= LOGIC ========= */
const calendar = document.getElementById('calendar');
const popup = document.getElementById('popup');

function generateCalendar(){
  const start = new Date(USER_START_DATE);
  start.setDate(start.getDate()+1); // H+1

  for(let i=1;i<=30;i++){
    const d = new Date(start);
    d.setDate(start.getDate()+i-1);

    const day = d.getDate();
    const div = document.createElement('div');
    div.className = 'day';

    let status='BAYAR';
    if(day===14||day===28||day===31){
      status='LIBUR';
      div.classList.add('off');
    }else{
      div.classList.add('pay');
    }

    div.textContent = day;

    div.onclick=()=>{
      openPopup(d,status);
    };

    calendar.appendChild(div);
  }
}

function openPopup(date,status){
  document.getElementById('popup-date').innerText =
    date.toLocaleDateString('id-ID',{dateStyle:'full'});
  document.getElementById('popup-status').innerText =
    status==='BAYAR'
    ? 'âœ… Hari ini wajib bayar'
    : 'â›” Libur pembayaran';
  popup.style.display='block';
}

function closePopup(){
  popup.style.display='none';
}

generateCalendar();
</script>

</body>
</html>
